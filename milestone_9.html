<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Milestone 9</title>
    <link href="../GEOG485/css/style.css" rel="stylesheet" type="text/css" media="screen">
    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
	<script type="text/javascript" src="http://openlayers.org/api/OpenLayers.js"></script>
    <script type="text/javascript">        
        // define global variables
        var lon = -122.4149391;
        var lat = 37.7829634;
        var zoom = 13;
        var map;
        var myProjection = new OpenLayers.Projection("EPSG:4326");
        var OSMlayer;
        var gmap, ghyb;
        var Layers = new Object();
  // =============== Styles ===================       
    SFwalk_style = {
      strokeOpacity: 1,
      strokeColor: "#7f00ff"
    }
    Onigilly_style = {
      pointRadius: 10,
      fillColor: "#4da6ff",
      fillOpacity: .75,
      strokeOpacity: 1,
      strokeColor: "#4da6ff",
    }
    Pier33_style = {
      pointRadius: 10,
      fillColor: "#4dffa6",
      fillOpacity: .75,
      strokeOpacity: 1,
      strokeColor: "#4dffa6",
    }
    FtMason_style = {
      pointRadius: 10,
      fillColor: "#ff4da6",
      fillOpacity: .75,
      strokeOpacity: 1,
      strokeColor: "#ff4da6"
    }
    CrissyField_style = {
      pointRadius: 10,
      fillColor: "#ffa64d",
      fillOpacity: .75,
      strokeOpacity: 1,
      strokeColor: "#ffa64d"
    }
    GoldenGate_style = {
      pointRadius: 10,
      fillColor: "#a64dff",
      fillOpacity: .75,
      strokeOpacity: 1,
      strokeColor: "#a64dff"
    }

        // =============== Initialization function ===================
        function init(){
            map = new OpenLayers.Map( 'map',
            	{projection:myProjection,
            	maxExtent: new OpenLayers.Bounds(-20037508, -20037508,
				20037508, 20037508.34),
				maxResolution: 156543.0339,
				units: 'm'}
            	 );
                        
            // =========== OSM Map ====================
            
                 
        	gmap = new OpenLayers.Layer.Google(
                "Google Streets", // the default
                {numZoomLevels: 20}
            	);
            ghyb = new OpenLayers.Layer.Google(
                "Google Hybrid",
                {type: google.maps.MapTypeId.HYBRID, numZoomLevels: 20}
            	);
            map.addLayers([gmap, ghyb]
            	);
            OSMlayer = new OpenLayers.Layer.OSM( "Open Street Map");
            map.addLayer(OSMlayer);
            map.setCenter(new OpenLayers.LonLat(lon,lat).transform(
                myProjection,
                map.getProjectionObject()
             ), zoom
             	);
                
            Layers.SFwalk = new OpenLayers.Layer.Vector("7.27mi Walk on 3/21/14", {
                projection: map.displayProjection,
                style:SFwalk_style,
                visibility: true,
                strategies: [new OpenLayers.Strategy.Fixed()],
                protocol: new OpenLayers.Protocol.HTTP({
                    url: "http://ezxile.github.io/GEOG485/SF_walk.kml",
                    format: new OpenLayers.Format.KML({
                        extractAttributes: true
                    })
                })
            });
           	map.addLayer(Layers.SFwalk)
           	
// =============== Point Features (Layers) ============ 
Layers.Onigilly = new OpenLayers.Layer.Vector('Onigilly Restaurant');
    map.addLayer(Layers.Onigilly);
    Layers.Pier33 = new OpenLayers.Layer.Vector('Pier 33');
    map.addLayer(Layers.Pier33);
    Layers.FtMason = new OpenLayers.Layer.Vector('Ft. Mason Great Meadow');
    map.addLayer(Layers.FtMason);
    Layers.CrissyField = new OpenLayers.Layer.Vector('Crissy Field Dog Park');
    map.addLayer(Layers.CrissyField);
    Layers.GoldenGate = new OpenLayers.Layer.Vector('Golden Gate Bridge Tower');
    map.addLayer(Layers.GoldenGate); 
    
 var Coord_Onigilly = new OpenLayers.Geometry.Point(-122.404308, 37.7914033);
    var Coord_Pier33 = new OpenLayers.Geometry.Point(-122.405162, 37.806908).transform(
				new OpenLayers.Projection(myProjection),
				map.getProjectionObject()
				);
    var Coord_FtMason = new OpenLayers.Geometry.Point(-122.4298598, 37.8058729).transform(
				new OpenLayers.Projection(myProjection),
				map.getProjectionObject()
				);
    var Coord_CrissyField = new OpenLayers.Geometry.Point(-122.4658972, 37.8048635).transform(
				new OpenLayers.Projection(myProjection),
				map.getProjectionObject()
				);
    var Coord_GoldenGate = new OpenLayers.Geometry.Point(-119.690929, 34.410744).transform(
				new OpenLayers.Projection(myProjection),
				map.getProjectionObject()
				);

    var Point_Onigilly = new OpenLayers.Feature.Vector(Coord_Onigilly,null,Onigilly_style);
    var Point_Pier33 = new OpenLayers.Feature.Vector(Coord_Pier33,null,Pier33_style);
    var Point_FtMason = new  OpenLayers.Feature.Vector(Coord_FtMason,null,FtMason_style);
    var Point_CrissyField = new  OpenLayers.Feature.Vector(Coord_CrissyField,null,CrissyField_style);
    var Point_GoldenGate = new  OpenLayers.Feature.Vector(Coord_GoldenGate,null,GoldenGate_style);

    Layers ["Onigilly"].addFeatures([Point_Onigilly]);
    Layers ["Pier33"].addFeatures([Point_Pier33]);
    Layers ["FtMason"].addFeatures([Point_FtMason]);
    Layers ["CrissyField"].addFeatures([Point_CrissyField]);
    Layers ["GoldenGate"].addFeatures([Point_GoldenGate]);         	
           	
           	
          

            map.addControl(new OpenLayers.Control.LayerSwitcher() );
            map.addControl(new OpenLayers.Control.MousePosition() );
            }
          
            
        // =============== End of Initialization Function ============
        
    </script>
    <style type="text/css">
        #map {width:90%; height:100%}
    </style>
  </head>
  <body onload="init()">
  <br>
    Elisa Cedillos<br>
  	March 31 2014<br>
  <h1>Milestone 9</h1>
  	<h2>Using the same map from week 10, embed 5 stylized vector features, 1 stylized KML file, and a WMS request into the map.
	<!-- Map DIV -->
    <div id="map"></div>    
  </body>
</html>